"use strict";(self.webpackChunktraders=self.webpackChunktraders||[]).push([[928],{51928:(Y,d,o)=>{o.r(d),o.d(d,{FarmerBillModule:()=>Q});var s=o(36895),g=o(64575),p=o(15439),n=o(94650),h=o(32566),A=o(31883),z=o(21102),c=o(73679),m=o(36704),u=o(90433),_=o(38231),x=o(66616),Z=o(47044),y=o(21811),C=o(5259),f=o(44688);function F(e,r){if(1&e&&n._UZ(0,"nz-option",15),2&e){const t=r.$implicit;n.Q6J("nzLabel",t.name)("nzValue",t)}}function b(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"a",16),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.print())}),n._UZ(1,"span",17),n.qZA()}}function T(e,r){1&e&&(n.TgZ(0,"h3",18),n._uU(1,"No Bills"),n.qZA())}function M(e,r){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.continue)}}function v(e,r){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.second)}}function O(e,r){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.third)}}function B(e,r){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.end)}}function U(e,r){if(1&e&&(n.TgZ(0,"tr")(1,"td",31),n._uU(2,"\xa0\xa0\xa0"),n.TgZ(3,"strong",32),n._uU(4),n.qZA(),n._uU(5,"\xa0"),n.TgZ(6,"strong",32),n._uU(7),n.qZA()(),n.TgZ(8,"td",31),n._uU(9),n.qZA(),n.TgZ(10,"td",32),n._uU(11),n.qZA(),n.TgZ(12,"td",33),n._uU(13),n.qZA(),n.TgZ(14,"td",33),n._uU(15),n.ALo(16,"number"),n.qZA()()),2&e){const t=r.$implicit,i=r.index;n.xp6(4),n.hij("",i+1,"."),n.xp6(3),n.Oqu(t.name),n.xp6(2),n.Oqu(t.notes),n.xp6(2),n.Oqu(t.quantity),n.xp6(2),n.hij("",t.rate,"/-"),n.xp6(2),n.hij("",n.xi3(16,6,t.amount,"1.2-2"),"\xa0\xa0\xa0\xa0")}}function S(e,r){if(1&e&&(n.TgZ(0,"div",21)(1,"table",22)(2,"tr")(3,"td",23)(4,"span",24),n._uU(5,"SRI SAINATH TRADERS"),n.qZA(),n._uU(6,"\xa0\xa0\xa0\xa09640443322,\xa09640443322"),n.qZA()(),n.TgZ(7,"tr")(8,"td"),n._uU(9,"\xa0\xa0\xa0"),n.TgZ(10,"span",25),n._uU(11),n.ALo(12,"uppercase"),n.qZA(),n._UZ(13,"br"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n.YNc(16,M,2,1,"span",14),n.YNc(17,v,2,1,"span",14),n.YNc(18,O,2,1,"span",14),n.YNc(19,B,2,1,"span",14),n.qZA(),n.TgZ(20,"td",26)(21,"span"),n._uU(22),n.qZA(),n._uU(23),n.ALo(24,"date"),n.qZA()(),n.TgZ(25,"tr")(26,"td",27),n._UZ(27,"hr",28),n.qZA()()(),n.TgZ(28,"table",22),n.YNc(29,U,17,9,"tr",29),n.TgZ(30,"tr"),n._UZ(31,"td")(32,"td")(33,"td")(34,"td"),n.TgZ(35,"td",30),n._uU(36),n.ALo(37,"number"),n.qZA(),n._UZ(38,"td"),n.qZA(),n.TgZ(39,"tr"),n._UZ(40,"td")(41,"td")(42,"td")(43,"td"),n.TgZ(44,"td",30),n._uU(45),n.ALo(46,"number"),n.qZA()()()()),2&e){const t=r.$implicit,i=n.oxw(2);n.xp6(11),n.Oqu(n.lcZ(12,11,t.farmer_name)),n.xp6(3),n.hij("\xa0\xa0\xa0Ph. ",t.phone_number,""),n.xp6(2),n.Q6J("ngIf",""!==t.continue),n.xp6(1),n.Q6J("ngIf",t.second),n.xp6(1),n.Q6J("ngIf",t.third),n.xp6(1),n.Q6J("ngIf",t.end),n.xp6(3),n.Oqu(0===i.day?"Sun,":1===i.day?"Mon,":2===i.day?"Tue,":3===i.day?"Wed,":4===i.day?"Thu,":5===i.day?"Fri,":6===i.day?"Sat,":""),n.xp6(1),n.hij(" ",n.xi3(24,13,i.date,"dd-MM-yyyy"),"\xa0\xa0\xa0\xa0 "),n.xp6(6),n.Q6J("ngForOf",t.vegetables),n.xp6(7),n.hij("",n.xi3(37,16,t.balance_amount,"1.2-2"),"\xa0\xa0\xa0\xa0"),n.xp6(9),n.hij("",n.xi3(46,19,t.bill_amount,"1.2-2"),"\xa0\xa0\xa0\xa0")}}function J(e,r){if(1&e&&(n.TgZ(0,"body")(1,"div",19),n.YNc(2,S,47,22,"div",20),n.qZA()()),2&e){const t=n.oxw();n.xp6(2),n.Q6J("ngForOf",t.finalArray)}}const q=[{path:"",component:(()=>{class e{constructor(t,i){this.mainService=t,this.farmerService=i,this.finalArray=[],this.date=new Date,this.day=0,this.todayDate="",this.farmersData=[],this.dateFormat="dd-MM-yyyy"}ngOnInit(){const t=new Date;this.day=this.date.getDay(),this.todayDate=p(t).format("DD-MM-YYYY"),this.getFarmers()}getFarmers(){this.mainService.spinning.emit(!0),this.farmerService.getFarmers({}).subscribe(i=>{const a=i.data;this.mainService.spinning.emit(!1),this.farmersData=a},i=>{console.log("get customers err ",i),this.mainService.spinning.emit(!1),this.farmersData=[]})}printFarmerBills(){this.day=this.date.getDay();const i={bill_date:p(this.date).format("DD-MM-YYYY"),farmer_id:this.selectedFarmer._id};this.mainService.spinning.emit(!0),this.mainService.getFarmerBills(i).subscribe(a=>{console.log("data: ",a),a&&a.length>0?(this.mainService.spinning.emit(!1),this.finalArray=a,console.log("this.finalArray: ",this.finalArray)):(this.finalArray=[],this.mainService.spinning.emit(!1))},a=>{console.log("get customers err ",a),this.mainService.spinning.emit(!1)})}onChange(t){this.finalArray=[]}print(){window.print()}onFarmerSelect(t){this.finalArray=[]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(h.J),n.Y36(A.y))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-farmer-bill"]],decls:27,vars:20,consts:[[1,"header-print"],[1,"date-picker"],["nz-row","",1,"date-selection"],["nz-col","","nzSpan","6"],["nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"ngModel","nzAllowClear","nzFormat","ngModelChange"],["nzShowSearch","","nzAllowClear","",3,"nzAutoFocus","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"disabled","click"],["class","align-right margin-right25",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngIf"],[3,"nzLabel","nzValue"],[1,"align-right","margin-right25",3,"click"],["nz-icon","","nzType","printer","nzTheme","fill"],[1,"text-center"],[1,"container"],["class","bill",4,"ngFor","ngForOf"],[1,"bill"],[2,"width","100%"],["colspan","3",1,"text-center"],[1,"shop-title"],[1,"bill_customer_name"],[2,"text-align","right"],["colspan","3",2,"width","100%"],[2,"border","1px dashed #000"],[4,"ngFor","ngForOf"],[1,"number",2,"border-top","1px dashed #000"],[1,"upper-case"],[1,"bill_item_name"],[1,"number","bill_item_name"]],template:function(t,i){1&t&&(n.TgZ(0,"h2",0),n._uU(1,"Farmer Bills"),n.qZA(),n.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"nz-form-item")(6,"nz-form-label",4),n._uU(7,"Date"),n.qZA(),n.TgZ(8,"nz-form-control",5)(9,"nz-date-picker",6),n.NdJ("ngModelChange",function(l){return i.date=l})("ngModelChange",function(l){return i.onChange(l)}),n.qZA()()()(),n.TgZ(10,"div",3)(11,"nz-form-item")(12,"nz-form-label",4)(13,"span"),n._uU(14,"Farmer"),n.qZA()(),n.TgZ(15,"nz-form-control",5)(16,"nz-select",7),n.NdJ("ngModelChange",function(l){return i.selectedFarmer=l})("ngModelChange",function(l){return i.onFarmerSelect(l)}),n.YNc(17,F,1,2,"nz-option",8),n.qZA()()()(),n.TgZ(18,"div",3)(19,"nz-form-item",9)(20,"nz-form-control",10)(21,"button",11),n.NdJ("click",function(){return i.printFarmerBills()}),n._uU(22,"Submit"),n.qZA(),n._uU(23,"\xa0 "),n.qZA()()()(),n.YNc(24,b,2,0,"a",12),n.qZA(),n.YNc(25,T,2,0,"h3",13),n.YNc(26,J,3,1,"body",14)),2&t&&(n.xp6(6),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(1),n.Q6J("ngModel",i.date)("nzAllowClear",!1)("nzFormat",i.dateFormat),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(3),n.Q6J("nzSm",14)("nzXs",24),n.xp6(1),n.Q6J("nzAutoFocus",!0)("ngModel",i.selectedFarmer),n.xp6(1),n.Q6J("ngForOf",i.farmersData),n.xp6(3),n.Q6J("nzSpan",14)("nzOffset",6),n.xp6(1),n.Q6J("disabled",null==i.selectedFarmer||null==i.date),n.xp6(3),n.Q6J("ngIf",i.finalArray&&i.finalArray.length>0),n.xp6(1),n.Q6J("ngIf",i.finalArray&&0===i.finalArray.length),n.xp6(1),n.Q6J("ngIf",i.finalArray&&i.finalArray.length>0))},dependencies:[s.sg,s.O5,z.Ls,c.t3,c.SK,m.Nx,m.iK,m.Fd,u.JJ,u.On,_.Ip,_.Vq,x.ix,Z.w,y.dQ,C.uw,f.Uo,f.$Z,s.gd,s.JJ,s.uU],styles:[".shop-title[_ngcontent-%COMP%]{color:#06f706;font-weight:700;font-size:15px}.print-box-width[_ngcontent-%COMP%]{width:386px;height:365px}body[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,2fr);grid-gap:20px}.bill[_ngcontent-%COMP%]{width:396.85px;height:374.7px;border:1px solid #000;padding:5px;box-sizing:border-box;page-break-inside:avoid}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:0}.number[_ngcontent-%COMP%]{text-align:right!important}.upper-case[_ngcontent-%COMP%]{text-transform:uppercase}.date-picker[_ngcontent-%COMP%]{margin-bottom:10px}@page{size:A4;margin:5mm 5mm 5mm -8mm}@media print{body[_ngcontent-%COMP%]{width:0;height:0}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,2fr);margin:0;padding:0}.bill[_ngcontent-%COMP%]{width:396.85px;height:370.7px;border:1px solid #000;box-sizing:border-box;page-break-inside:avoid}.header-print[_ngcontent-%COMP%], .date-picker[_ngcontent-%COMP%]{display:none}}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}.header-print[_ngcontent-%COMP%]{margin-top:10px}.bill_customer_name[_ngcontent-%COMP%]{font-weight:700;font-size:13px;color:#df7c24}.bill_item_name[_ngcontent-%COMP%]{font-weight:600;font-size:12px}.width_customs[_ngcontent-%COMP%]{width:50px}.align-right[_ngcontent-%COMP%]{float:right}.margin-right25[_ngcontent-%COMP%]{margin-right:25px}  .ant-select-item-option-selected:not(.ant-select-item-option-disabled){background-color:green;color:#fff}  .ant-select-item-option-active:not(.ant-select-item-option-disabled){background-color:green;color:#fff}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.Bz.forChild(q),g.Bz]}),e})();var w=o(4973);let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[s.ez,P,w.m]}),e})()}}]);